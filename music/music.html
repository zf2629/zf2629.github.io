

<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>简约音乐播放器</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        .progress-container:hover .progress-time {
            opacity: 1;
        }
        .album-cover {
            transition: transform 0.3s ease;
        }
        .album-cover:hover {
            transform: scale(1.05);
        }
        .playlist-item:hover {
            background-color: #f3f4f6;
        }
        .playlist-item.active {
            background-color: #e0e7ff;
            color: #4f46e5;
        }
        .playlist-container {
            max-height: 200px;
            overflow-y: auto;
        }
        ::-webkit-scrollbar {
            width: 6px;
        }
        ::-webkit-scrollbar-thumb {
            background-color: #c7d2fe;
            border-radius: 3px;
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4">
    <div class="bg-white rounded-2xl shadow-xl p-6 w-full max-w-md">
        <!-- 专辑封面 -->
        <div class="flex justify-center mb-6">
            <img src="https://picsum.photos/300/300?music" alt="当前播放专辑封面" class="album-cover rounded-xl w-64 h-64 object-cover shadow-md">
        </div>
        
        <!-- 歌曲信息 -->
        <div class="text-center mb-6">
            <h2 class="text-xl font-bold text-gray-800" id="song-title">歌曲名称</h2>
            <p class="text-gray-500" id="artist-name">歌手名称</p>
        </div>
        
        <!-- 进度条 -->
        <div class="mb-4 progress-container">
            <div class="flex justify-between text-xs text-gray-500 mb-1">
                <span id="current-time">0:00</span>
                <span class="progress-time opacity-0 transition-opacity" id="duration">3:45</span>
            </div>
            <div class="h-1 bg-gray-200 rounded-full">
                <div class="h-full bg-blue-500 rounded-full" id="progress-bar" style="width: 0%"></div>
            </div>
        </div>
        
        <!-- 控制按钮 -->
        <div class="flex justify-center items-center space-x-8 mb-6">
            <button id="prev-btn" class="text-gray-500 hover:text-blue-500 transition-colors">
                <i class="fas fa-backward text-xl"></i>
            </button>
            <button id="play-btn" class="bg-blue-500 hover:bg-blue-600 text-white rounded-full p-3 transition-colors shadow-md">
                <i class="fas fa-play text-xl"></i>
            </button>
            <button id="next-btn" class="text-gray-500 hover:text-blue-500 transition-colors">
                <i class="fas fa-forward text-xl"></i>
            </button>
        </div>
        
        <!-- 音量控制 -->
        <div class="mb-6 flex items-center">
            <i class="fas fa-volume-down text-gray-500 mr-2"></i>
            <input type="range" min="0" max="100" value="80" class="w-full h-1 bg-gray-200 rounded-full appearance-none" id="volume-control">
            <div class="h-full bg-blue-500 rounded-full" style="width: 80%"></div>
        </div>
        
        <!-- 播放列表 -->
        <div class="border-t border-gray-200 pt-4">
            <h3 class="font-medium text-gray-700 mb-3">播放列表</h3>
            <div class="playlist-container">
                <ul id="playlist" class="space-y-1">
                    <!-- 播放列表项将通过JS动态生成 -->
                </ul>
            </div>
        </div>
    </div>

    <script>
        // 音乐数据
        const songs = [
            {
                title: "Summer Vibes",
                artist: "Chill Wave",
                cover: "https://picsum.photos/300/300?summer",
                src: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3",
                duration: "3:45"
            },
            {
                title: "Ocean Breeze",
                artist: "Relaxing Sounds",
                cover: "https://picsum.photos/300/300?ocean",
                src: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3",
                duration: "4:12"
            },
            {
                title: "Midnight Drive",
                artist: "Synthwave",
                cover: "https://picsum.photos/300/300?night",
                src: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3",
                duration: "3:28"
            }
        ];

        // 获取DOM元素
        const audio = new Audio();
        const playBtn = document.getElementById('play-btn');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const volumeControl = document.getElementById('volume-control');
        const songTitle = document.getElementById('song-title');
        const artistName = document.getElementById('artist-name');
        const albumCover = document.querySelector('.album-cover');
        const currentTimeEl = document.getElementById('current-time');
        const durationEl = document.getElementById('duration');
        const progressBar = document.getElementById('progress-bar');
        const progressContainer = document.querySelector('.progress-container');
        const playlistEl = document.getElementById('playlist');

        let currentSongIndex = 0;
        let isPlaying = false;

        // 初始化播放器
        function initPlayer() {
            loadSong(currentSongIndex);
            renderPlaylist();
            
            // 事件监听
            playBtn.addEventListener('click', togglePlay);
            prevBtn.addEventListener('click', prevSong);
            nextBtn.addEventListener('click', nextSong);
            volumeControl.addEventListener('input', setVolume);
            progressContainer.addEventListener('click', setProgress);
            audio.addEventListener('timeupdate', updateProgress);
            audio.addEventListener('ended', nextSong);
            audio.addEventListener('loadedmetadata', updateDuration);
        }

        // 加载歌曲
        function loadSong(index) {
            const song = songs[index];
            songTitle.textContent = song.title;
            artistName.textContent = song.artist;
            albumCover.src = song.cover;
            albumCover.alt = `${song.title} - ${song.artist} 专辑封面`;
            audio.src = song.src;
            durationEl.textContent = song.duration;
            
            // 更新播放列表中的活动项
            updateActivePlaylistItem();
        }

        // 渲染播放列表
        function renderPlaylist() {
            playlistEl.innerHTML = '';
            songs.forEach((song, index) => {
                const li = document.createElement('li');
                li.className = `playlist-item p-2 rounded-md cursor-pointer flex justify-between items-center ${index === currentSongIndex ? 'active' : ''}`;
                li.innerHTML = `
                    <div>
                        <div class="font-medium">${song.title}</div>
                        <div class="text-xs text-gray-500">${song.artist}</div>
                    </div>
                    <span class="text-sm text-gray-500">${song.duration}</span>
                `;
                li.addEventListener('click', () => {
                    currentSongIndex = index;
                    loadSong(currentSongIndex);
                    if (isPlaying) {
                        audio.play();
                    }
                });
                playlistEl.appendChild(li);
            });
        }

        // 更新播放列表中的活动项
        function updateActivePlaylistItem() {
            const items = document.querySelectorAll('.playlist-item');
            items.forEach((item, index) => {
                if (index === currentSongIndex) {
                    item.classList.add('active');
                } else {
                    item.classList.remove('active');
                }
            });
        }

        // 播放/暂停
        function togglePlay() {
            if (isPlaying) {
                pauseSong();
            } else {
                playSong();
            }
        }

        function playSong() {
            isPlaying = true;
            playBtn.innerHTML = '<i class="fas fa-pause text-xl"></i>';
            audio.play();
        }

        function pauseSong() {
            isPlaying = false;
            playBtn.innerHTML = '<i class="fas fa-play text-xl"></i>';
            audio.pause();
        }

        // 上一首
        function prevSong() {
            currentSongIndex--;
            if (currentSongIndex < 0) {
                currentSongIndex = songs.length - 1;
            }
            loadSong(currentSongIndex);
            if (isPlaying) {
                audio.play();
            }
        }

        // 下一首
        function nextSong() {
            currentSongIndex++;
            if (currentSongIndex >= songs.length) {
                currentSongIndex = 0;
            }
            loadSong(currentSongIndex);
            if (isPlaying) {
                audio.play();
            }
        }

        // 设置音量
        function setVolume() {
            audio.volume = volumeControl.value / 100;
        }

        // 更新进度条
        function updateProgress() {
            const { duration, currentTime } = audio;
            const progressPercent = (currentTime / duration) * 100;
            progressBar.style.width = `${progressPercent}%`;
            
            // 更新时间显示
            const currentMinutes = Math.floor(currentTime / 60);
            let currentSeconds = Math.floor(currentTime % 60);
            if (currentSeconds < 10) {
                currentSeconds = `0${currentSeconds}`;
            }
            currentTimeEl.textContent = `${currentMinutes}:${currentSeconds}`;
        }

        // 更新总时长
        function updateDuration() {
            const duration = audio.duration;
            const durationMinutes = Math.floor(duration / 60);
            let durationSeconds = Math.floor(duration % 60);
            if (durationSeconds < 10) {
                durationSeconds = `0${durationSeconds}`;
            }
            durationEl.textContent = `${durationMinutes}:${durationSeconds}`;
        }

        // 设置播放进度
        function setProgress(e) {
            const width = progressContainer.clientWidth;
            const clickX = e.offsetX;
            const duration = audio.duration;
            audio.currentTime = (clickX / width) * duration;
        }

        // 初始化播放器
        initPlayer();
    </script>
</body>
</html>
